Color_mixer=function(){};Color_mixer.toCymk=function(e){cyan=255-e._rgba[0];magenta=255-e._rgba[1];yellow=255-e._rgba[2];black=Math.min(cyan,magenta,yellow);cyan=(cyan-black)/(255-black);magenta=(magenta-black)/(255-black);yellow=(yellow-black)/(255-black);return{c:cyan,m:magenta,y:yellow,k:black/255,a:e._rgba[3]}};Color_mixer.toRgba=function(e){e.c=e.c;e.m=e.m;e.y=e.y;e.k=e.k;R=e.c*(1-e.k)+e.k;G=e.m*(1-e.k)+e.k;B=e.y*(1-e.k)+e.k;R=Math.round((1-R)*255+.5);G=Math.round((1-G)*255+.5);B=Math.round((1-B)*255+.5);e=$.Color(R,G,B,e.a);return e};Color_mixer.mix=function(e,t){if(typeof e=="object"&&e instanceof Array==false)e=new Array(e,t);C=0;M=0;Y=0;K=0;A=0;for(var n=0;n<e.length;n++){e[n]=Color_mixer.toCymk(e[n]);C+=e[n].c*e[n].a;M+=e[n].m*e[n].a;Y+=e[n].y*e[n].a;K+=e[n].k*e[n].a;A+=e[n].a}if(A>0){C=C/A;M=M/A;Y=Y/A;K=K/A}else{C=0;Y=0;M=0;K=0}color={c:C,m:M,y:Y,k:K,a:1};color=Color_mixer.toRgba(color);return color}